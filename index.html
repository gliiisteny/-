<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لعبة المسابقات</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: beige; /* لون بيج للمقدمة */
        }
        .card {
            padding: 1.5rem;
            background-color: white;
            color: black;
            text-align: center;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .start-box {
            width: 300px;
            height: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .button {
            padding: 0.5rem 1rem;
            margin: 0.25rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            background-color: #3b82f6; /* أزرق */
            color: white;
        }
        .button:hover {
            background-color: #2563eb;
        }
        .button-green {
            background-color: #22c55e;
        }
        .button-gray {
            background-color: #d1d5db;
        }
        .input {
            padding: 0.5rem;
            margin: 0.5rem 0;
            width: 100%;
            box-sizing: border-box;
            border: 1px solid #d1d5db;
            border-radius: 4px;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .team-container {
            display: flex;
            justify-content: space-between;
            gap: 1rem;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- إضافة مكتبات React عبر CDN -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

    <!-- الكود الخاص بالمكون -->
    <script type="text/babel">
        function QuizGame() {
            const [screen, setScreen] = React.useState("start");
            const [teams, setTeams] = React.useState({ left: "", right: "" });
            const [competitionName, setCompetitionName] = React.useState("");
            const [selectedCategories, setSelectedCategories] = React.useState([]);

            const allCategories = [
                "كرة القدم", "القرآن الكريم", "التاريخ الإسلامي", "شخصيات تاريخية",
                "أفلام", "مسلسلات", "عواصم", "دول", "معلومات عامة", "ألغاز", "حيوانات"
            ];

            return (
                <div>
                    {screen === "start" && (
                        <div className="card start-box">
                            <button 
                                className="button" 
                                onClick={() => setScreen("setup")}
                            >
                                البدء
                            </button>
                        </div>
                    )}

                    {screen === "setup" && (
                        <div className="card" style={{ width: "75%" }}>
                            <input
                                type="text"
                                placeholder="اسم المسابقة"
                                className="input"
                                value={competitionName}
                                onChange={(e) => setCompetitionName(e.target.value)}
                            />
                            <div className="team-container">
                                <input
                                    type="text"
                                    placeholder="اسم الفريق الأيسر"
                                    className="input"
                                    value={teams.left}
                                    onChange={(e) => setTeams({ ...teams, left: e.target.value })}
                                />
                                <input
                                    type="text"
                                    placeholder="اسم الفريق الأيمن"
                                    className="input"
                                    value={teams.right}
                                    onChange={(e) => setTeams({ ...teams, right: e.target.value })}
                                />
                            </div>
                            <button 
                                className="button" 
                                onClick={() => setScreen("categories")}
                                disabled={!teams.left || !teams.right || !competitionName}
                            >
                                البدء
                            </button>
                        </div>
                    )}

                    {screen === "categories" && (
                        <div className="card" style={{ width: "75%" }}>
                            <h2 style={{ marginBottom: "1rem" }}>{competitionName}</h2>
                            <div className="grid">
                                {allCategories.map((cat, index) => (
                                    <button
                                        key={index}
                                        className={`button ${selectedCategories.includes(cat) ? 'button-green' : 'button-gray'}`}
                                        onClick={() => {
                                            if (selectedCategories.includes(cat)) {
                                                setSelectedCategories(selectedCategories.filter(c => c !== cat));
                                            } else if (selectedCategories.length < 6) {
                                                setSelectedCategories([...selectedCategories, cat]);
                                            }
                                        }}
                                    >
                                        {cat}
                                    </button>
                                ))}
                            </div>
                            {selectedCategories.length === 0 && (
                                <p style={{ color: "#ef4444", marginTop: "1rem" }}>
                                    يرجى اختيار فئة واحدة على الأقل
                                </p>
                            )}
                            {selectedCategories.length > 0 && (
                                <button 
                                    className="button" 
                                    style={{ marginTop: "1rem" }}
                                    onClick={() => console.log("الانطلاق!", selectedCategories)}
                                >
                                    الانطلاق
                                </button>
                            )}
                        </div>
                    )}
                </div>
            );
        }

        // رندر المكون في الصفحة
        ReactDOM.render(<QuizGame />, document.getElementById('root'));
    </script>
</body>
</html>